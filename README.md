#  Набор ролей для выполнения тестовго задания SB

## Общее описание

Просто инсталирует Nginx PHP-FPM Memcached MariaDB WordPress certbot и выполняет их базовую настройку (руками проще ошибиться).

## Как запустить:
- Необходимо сделать inventory файл, на  основе приложенного примера inventory.example
- Учесть, что плейбук можно запустить ТОЛЬКО на CentOS 7 и 1 Gb памяти
- Если требуется запустить vagrant то просто vagrant up ( но части функционала не будет - из-за отсутсвия публичного доступа к вебсерверу)
- Учесть, что ansible должен быть не ниже версии 2.11.6
- При соблюдении всех предыдущих пунктов выполнить
```
ansible-playbook -i inventory ansible/web.yml -v
```

## Минусы:
- В ansbile-темплейте конфигурации Nginx сайта присутствует только секция 80 порта, а секция 443 порта добавляется автоконфигурацией certbot, что не очень хорошо, так как в итоге состояние конфига сайта в Ansible отличается от фактического. Использование автоконфигурирования certbot в продакшене в принципе плохая идея, лучше сразу в темплейте задавать все нужные секции server, указать отдельно location для Let's Encrypt (/.well-known/acme-challenge) и получать/обновлять только сам сертификат, без изменения конфига сайта
- Недоступна загрузка медиафайлов через админку Wordpress, файлы сайта принадлежат root-пользователю. Обновлять файлы через git лучше под обычным пользователем, а не root
- Слабо структурированое описание
